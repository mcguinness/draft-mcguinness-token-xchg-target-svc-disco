{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2026-01-11T01:03:45.139551+00:00",
  "repo": "mcguinness/draft-mcguinness-token-xchg-target-svc-disco",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 1,
      "id": "I_kwDOQmXELM7eF5QN",
      "title": "Add supported_grant_type",
      "url": "https://github.com/mcguinness/draft-mcguinness-token-xchg-target-svc-disco/issues/1",
      "state": "CLOSED",
      "author": "meghnadubey",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Add supported_grant_type of token-exchange to the response. This is the basic mechanism, hence should be to stated in discovery enumeration, in addition to the outcome or token-type which is already present as jwt-bearer. ",
      "createdAt": "2025-12-13T15:29:53Z",
      "updatedAt": "2025-12-14T18:24:21Z",
      "closedAt": "2025-12-14T18:24:21Z",
      "comments": [
        {
          "author": "mcguinness",
          "authorAssociation": "OWNER",
          "body": "The spec is currently written as a Token Exchange service discovery endpoint.  I am not clear on why adding `urn:ietf:params:oauth:grant-type:token-exchange` to the service response object has any value.  The Authorization Server metadata for the AS already publishes this.  Additionally it would be present on every service object making it redundant.\n\nA client would fetch AS metadata and validate whether the AS supports `urn:ietf:params:oauth:grant-type:token-exchange` grant type then validate whether it published a `token_exchange_target_service_discovery_endpoint` and then perform discovery of token exchange targets. \n\nThis spec _currently_ isn't for an Authorization Server to return trusted issuers for assertion grants (reverse relationship).  I can see value in defining that endpoint but it would need different inputs (e.g client authentication only) and would have a different shape.  \n\n",
          "createdAt": "2025-12-13T16:33:01Z",
          "updatedAt": "2025-12-13T16:33:01Z"
        },
        {
          "author": "meghnadubey",
          "authorAssociation": "NONE",
          "body": "The value for `supported_token_type` will also be jwt-bearer for every object, since it is the result of id-jag token exchange. So that is also repeated for every target object. \nI suggest changing the API response to an object, and making `supported_token_type` a property of this object, and defining an array of target objects containing `{audience, resource, scope}`. \nComing back to the original suggestion, for the sake of completeness, even though this is a token exchange target discovery, I see value in adding grant-type as it reinforces the mechanism of reaching the listed targets. And also something like an `assertion-type` to indicate supported assertions that can be used to get this jwt-bearer.(as a property of the response object, not the target object).",
          "createdAt": "2025-12-13T18:01:03Z",
          "updatedAt": "2025-12-13T18:01:03Z"
        },
        {
          "author": "mcguinness",
          "authorAssociation": "OWNER",
          "body": "> The value for `supported_token_type` will also be jwt-bearer for every object\n\nThe AS can return any token type identifier it supports for a target service, it doesn't have to be jwt-bearer token type or an assertion.  I just used that in the example as its most common.   \n\nThe target service also doesn't have to be external to the AS (federated) and could be 1st party so the target token type could be an access token for example (e.g middle tier micro-service to backend service).  There could be also be vendor specific token types.  \n\nThis endpoint is generic to Token Exchange and not specific to ID-JAG or cross-domain use cases. ",
          "createdAt": "2025-12-13T18:09:15Z",
          "updatedAt": "2025-12-13T18:09:15Z"
        },
        {
          "author": "mcguinness",
          "authorAssociation": "OWNER",
          "body": "Does this example response help make this clearer?\n\n```\n    [\n      {\n        \"audience\": \"https://api.example.com\",\n        \"resource\": [\"https://api.example.com/orders\", \"https://api.example.com/inventory\"],\n        \"scope\": \"orders.read inventory.read\",\n        \"supported_token_types\": [\n          \"urn:ietf:params:oauth:token-type:access_token\"\n        ]\n      },\n      {\n        \"audience\": \"https://billing.provider.example\",\n        \"scope\": \"customer.read customer.write\",\n        \"supported_token_types\": [\n          \"urn:ietf:params:oauth:token-type:jwt-bearer\"\n        ]\n      },\n      {\n        \"audience\": \"https://backend-audit-service.example.com\",\n        \"scope\": \"audit.read audit.write\",\n        \"supported_token_types\": [\n          \"urn:ietf:params:oauth:token-type:access_token\"\n        ]\n      }\n    ]\n```",
          "createdAt": "2025-12-13T18:29:26Z",
          "updatedAt": "2025-12-13T18:29:26Z"
        },
        {
          "author": "meghnadubey",
          "authorAssociation": "NONE",
          "body": "Yes, this is a better representation. ",
          "createdAt": "2025-12-13T20:31:45Z",
          "updatedAt": "2025-12-13T20:31:45Z"
        },
        {
          "author": "mcguinness",
          "authorAssociation": "OWNER",
          "body": "Resolving this issue with updated example",
          "createdAt": "2025-12-14T18:24:21Z",
          "updatedAt": "2025-12-14T18:24:21Z"
        }
      ]
    },
    {
      "number": 4,
      "id": "I_kwDOQmXELM7e-rem",
      "title": "Role of Oauth2.0 authorization server as IDP",
      "url": "https://github.com/mcguinness/draft-mcguinness-token-xchg-target-svc-disco/issues/4",
      "state": "OPEN",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "I view the issue of discovery for the token exchange grant type as very broad. Not only can the downstream service and resulting token type be discovered, but also the method of token exchange and intermediary token types supported.  \n\nhttps://www.ietf.org/archive/id/draft-ietf-oauth-identity-assertion-authz-grant-01.html#name-authorization-server-idp-me specifies for example introduces `identity_chaining_requested_token_types_supported` as a means of understanding intermediary token types supported.\n\ntoken A -> exchanged for  token B -> exchanged for token C -> exchanged for token D....\n\nThis specification currently supports a scenario where a client can find which eventual audiences the authorization server would issue intermediary tokens for - not what type of tokens these are, or \n\nIt seems purpose built but also not broad enough for general token exchange use cases. One issue is that https://datatracker.ietf.org/doc/html/rfc8693 does not require audience as a parameter in the request, yet the response assumes the audience field will be useful to the client and reference 2.1 of token exchange RFC.\n\n\nI propose a couple solutions, one which is to describe the `audience` in this specification response as the intended authorization server issuer for which the intermediary token is to be sent, or another which is to specify that when an Authz Server is behaving as an IDP, this specificaiton should apply and make it more purpose-built.\n\n",
      "createdAt": "2025-12-18T00:47:43Z",
      "updatedAt": "2025-12-18T00:47:43Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 5,
      "id": "I_kwDOQmXELM7fLik7",
      "title": "Add `amr` to the target object",
      "url": "https://github.com/mcguinness/draft-mcguinness-token-xchg-target-svc-disco/issues/5",
      "state": "OPEN",
      "author": "meghnadubey",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Adding `amr` can provide valuable information to the client about essential `mfa` (step-up auth), other policy requirements. This can help avoid errors due to authentication context not meeting resource access policy. ",
      "createdAt": "2025-12-18T18:38:24Z",
      "updatedAt": "2025-12-18T18:38:24Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 6,
      "id": "I_kwDOQmXELM7iXLZP",
      "title": "Allow adapting this token exchange metadata spec to specific token exchange cases like ID-JAG by introducing custom/flex object",
      "url": "https://github.com/mcguinness/draft-mcguinness-token-xchg-target-svc-disco/issues/6",
      "state": "OPEN",
      "author": "meghnadubey",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Allowing for a custom object ensures that the discovery spec can be a complete solution for specific token exchange cases like ID-JAG. \nFor example, in the case of ID-JAG, including a `client-id` for the resource in IdP can help with resolution or establishment of the access context in the RS.\n",
      "createdAt": "2026-01-09T17:19:10Z",
      "updatedAt": "2026-01-09T17:21:36Z",
      "closedAt": null,
      "comments": []
    }
  ],
  "pulls": [
    {
      "number": 2,
      "id": "PR_kwDOQmXELM65bNFB",
      "title": "Endpoint Response as object for extensibility",
      "url": "https://github.com/mcguinness/draft-mcguinness-token-xchg-target-svc-disco/pull/2",
      "state": "MERGED",
      "author": "mcguinness",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-12-17T18:06:54Z",
      "updatedAt": "2025-12-17T18:33:56Z",
      "baseRepository": "mcguinness/draft-mcguinness-token-xchg-target-svc-disco",
      "baseRefName": "main",
      "baseRefOid": "39addcf1bd935bbdb53deb3f62c9405776afb68c",
      "headRepository": "mcguinness/draft-mcguinness-token-xchg-target-svc-disco",
      "headRefName": "response-object",
      "headRefOid": "f26fe438de13078e10b3579b94b46df7381d6eb8",
      "closedAt": "2025-12-17T18:33:56Z",
      "mergedAt": "2025-12-17T18:33:56Z",
      "mergedBy": "mcguinness",
      "mergeCommit": {
        "oid": "39e4886efc75063f91a8ba0988402c8dcabd02c6"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 3,
      "id": "PR_kwDOQmXELM65ej8b",
      "title": "WIP on requiring client auth",
      "url": "https://github.com/mcguinness/draft-mcguinness-token-xchg-target-svc-disco/pull/3",
      "state": "OPEN",
      "author": "sdesen",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "I strongly feel client authentication should be required, or at a minumum replace MAY with SHOULD. This is because the attack surface for a stolen subject token widens dramatically as a malicious actor could discover downstream services, and more insecure implementations of token exchange may not require client authentication during the actual exchange.",
      "createdAt": "2025-12-18T00:28:45Z",
      "updatedAt": "2025-12-18T00:48:00Z",
      "baseRepository": "mcguinness/draft-mcguinness-token-xchg-target-svc-disco",
      "baseRefName": "main",
      "baseRefOid": "39e4886efc75063f91a8ba0988402c8dcabd02c6",
      "headRepository": "sdesen/draft-mcguinness-token-exchange-target-service-discovery",
      "headRefName": "client-auth",
      "headRefOid": "d8a6346c9b5fda85669dabe2b2e963618bf53f26",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [],
      "reviews": []
    }
  ]
}